<html>

<head>
    <title>Beastw00d Github Pages</title>
    <meta charset="utf-8">
    
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
        crossorigin="anonymous">
</head>

<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
     <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.js"></script>
    
    <div ng-app="testApp" ng-controller="testController as $ctrl">
        <label>Enter Credit Card</label>
        <input ng-model="$ctrl.creditCardNumber">
        <br/>
        <p ng-class="$ctrl.is_luhn_valid() ? 'text-success' : 'text-danger'"> Credit Card is {{$ctrl.is_luhn_valid() ? 'VALID' : 'INVALID'}}</p>
    </div>
    <script>
        var app = angular.module('testApp', []);
        app.controller('testController', function() {
           var $ctrl = this;
           $ctrl.creditCardNumber = '';

           var luhnChk = (function(arr) {
              return function(ccNum) {
           var
           len = ccNum.length,
      bit = 1,
      sum = 0,
      val;

    while (len) {
      val = parseInt(ccNum.charAt(--len), 10);
      sum += (bit ^= 1) ? arr[val] : val;
    }

    return sum && sum % 10 === 0;
  };
}([0, 2, 4, 6, 8, 1, 3, 5, 7, 9]));

$ctrl.is_luhn_valid = function(){
  return luhnChk($ctrl.creditCardNumber);
}
        });
    </script>
</body>
</htmll>
